{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUSD/Documents/GitHub/Q-tap-Website/src/api/getShops.js"],"sourcesContent":["import { BASE_URL } from \"@/utils/constants\"\r\nimport axios from \"axios\"\r\n\r\nexport const fetchShopsData = async () => {\r\n    try {\r\n        // setIsLoading(true)\r\n        const response = await axios.get(`${BASE_URL}menu_all_restaurants`)\r\n        return response.data.data\r\n        // setShops(response.data.data)\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,iBAAiB;IAC1B,IAAI;QACA,qBAAqB;QACrB,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,qIAAQ,CAAC,oBAAoB,CAAC;QAClE,OAAO,SAAS,IAAI,CAAC,IAAI;IACzB,+BAA+B;IACnC,EAAE,OAAO,OAAO;QACZ,MAAM;IACV;AACJ"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUSD/Documents/GitHub/Q-tap-Website/src/hooks/useShops.js"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { fetchShopsData } from \"@/api/getShops\";\r\n\r\nexport function useShops() {\r\n  return useQuery({\r\n    queryKey: ['shops'],\r\n    queryFn: fetchShopsData,\r\n    staleTime: 1000 * 60 * 15, // 15 minutes\r\n    refetchOnMount: true,\r\n    refetchOnWindowFocus: false,\r\n  });\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;SAAQ;QACnB,SAAS,wIAAc;QACvB,WAAW,OAAO,KAAK;QACvB,gBAAgB;QAChB,sBAAsB;IACxB;AACF"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUSD/Documents/GitHub/Q-tap-Website/src/app/%5Blocale%5D/shops/page.js"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react'\r\nimport './custom-css.css'\r\nimport axios from 'axios';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useTranslations } from 'next-intl';\r\nimport { BASE_URL_IMAGE } from '@/utils/constants';\r\nimport { useShops } from '@/hooks/useShops';\r\n\r\n\r\n\r\nconst ShopSelect = () => {\r\n    // const [shops, setShops] = useState(null)\r\n    const [selectedShop, setSelectedShop] = useState(null)\r\n    // const [isLoading, setIsLoading] = useState(false)\r\n    const t = useTranslations()\r\n\r\n    const { data: shops,isError,isLoading } = useShops()\r\n    const router = useRouter();\r\n\r\n    const handleSelectShop = (shop) => {\r\n        // Pass state through navigation\r\n        // router.push(`/categories?shopId=${shop.id}`);\r\n        setSelectedShop(shop)\r\n    };\r\n\r\n    const handleSelectBranch = (branchID) => {\r\n        // Pass state through navigation\r\n\r\n        router.push(`/categories?shopId=${selectedShop.id}&branchId=${branchID}`);\r\n\r\n    };\r\n\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 20;\r\n    const indexOfLastShop = currentPage * itemsPerPage;\r\n    const indexOfFirstShop = indexOfLastShop - itemsPerPage;\r\n\r\n    const currentShops = shops?.slice(indexOfFirstShop, indexOfLastShop);\r\n\r\n    const totalPages = shops ? Math.ceil(shops.length / itemsPerPage) : 1;\r\n\r\n    const handleNextPage = () => {\r\n        if (currentPage < totalPages) setCurrentPage(prev => prev + 1);\r\n    };\r\n\r\n    const handlePrevPage = () => {\r\n        if (currentPage > 1) setCurrentPage(prev => prev - 1);\r\n    };\r\n\r\n  \r\n\r\n    const products = [{ name: \"1\", description: \"1\" }, { name: \"1\", description: \"1\" }, { name: \"1\", description: \"1\" }, { name: \"1\", description: \"1\" }, { name: \"1\", description: \"1\" }, { name: \"1\", description: \"1\" },]\r\n    const colors = { bg_main: \"bg-[#1E1E2A]\", card_bg: 'bg-[#302E3B]', card_title: 'text-[#797993]' }\r\n    if (isError) {\r\n        return (\r\n            <div>{isError}</div>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <h1 className={`text-center text-white h-[100px] fixed m-0 w-full ${colors.bg_main} z-50 flex items-center justify-center`}>\r\n                {selectedShop ? t(\"branchs\") : t(\"shops\")}\r\n            </h1>\r\n            <div className={`${colors.bg_main} min-h-[calc(100vh-1rem)] flex flex-col px-12 pb-4 justify-around`}>\r\n                {selectedShop ?\r\n\r\n                    (\r\n                        <>\r\n                            <div className='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-[100px]'>\r\n                                {selectedShop?.brunchs?.map(branch => (\r\n                                    <div\r\n                                        key={branch?.id}\r\n                                        className={`card ${colors.card_bg} rounded-lg p-2 flex flex-col justify-between h-[300px]`}\r\n                                        onClick={() => handleSelectBranch(branch.id)}\r\n                                    >\r\n                                        <div className=\"relative w-full aspect-[1/2] overflow-hidden rounded-md\">\r\n                                            <img\r\n                                                src={`${BASE_URL_IMAGE}${selectedShop?.img}`}\r\n                                                alt={branch?.name}\r\n                                                className=\"absolute top-0 left-0 w-full h-full object-cover\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"mt-2\">\r\n                                            <h2 className={`font-bold text-lg ${colors.card_title} line-clamp-1`}>\r\n                                                {branch?.business_city}\r\n                                            </h2>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <button onClick={() => { setSelectedShop(null) }}>back</button>\r\n                        </>\r\n                    )\r\n                    :\r\n                    (\r\n\r\n                        isLoading ?\r\n                            <h1 className={`text-center text-white h-[100px]  m-0 w-full ${colors.bg_main} z-50 flex items-center justify-center`}>\r\n                                loading\r\n                            </h1>\r\n                            : (\r\n                                <div>\r\n                                    <div className='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-[100px]'>\r\n                                        {currentShops?.map(shop => (\r\n                                            <div\r\n                                                key={shop?.id}\r\n                                                className={`card ${colors.card_bg} rounded-lg p-2 flex flex-col justify-between h-[300px]`}\r\n                                                onClick={() => handleSelectShop(shop)}\r\n                                            >\r\n                                                <div className=\"relative w-full aspect-[1/2] overflow-hidden rounded-md\">\r\n                                                    <img\r\n                                                        src={`${BASE_URL_IMAGE}${shop?.img}`}\r\n                                                        alt={shop?.name}\r\n                                                        className=\"absolute top-0 left-0 w-full h-full object-cover\"\r\n                                                    />\r\n                                                </div>\r\n\r\n                                                <div className=\"mt-2\">\r\n                                                    <h2 className={`font-bold text-lg ${colors.card_title} line-clamp-1`}>\r\n                                                        {shop?.name}\r\n                                                    </h2>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n\r\n                                    </div>\r\n                                    <div className=\"flex justify-center items-center mt-6 gap-4 w-full\">\r\n                                        <button\r\n                                            onClick={handlePrevPage}\r\n                                            disabled={currentPage === 1}\r\n                                            className={`px-4 py-2 ${colors.card_bg} text-white border rounded disabled:opacity-50`}\r\n                                        >\r\n                                            {\"<\"}\r\n                                        </button>\r\n                                        <span className=\"text-white\">{`Page ${currentPage} of ${totalPages}`}</span>\r\n                                        <button\r\n                                            onClick={handleNextPage}\r\n                                            disabled={currentPage === totalPages}\r\n                                            className={`px-4 py-2 ${colors.card_bg} text-white border rounded disabled:opacity-50`}\r\n                                        >\r\n                                            {\">\"}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n\r\n\r\n                    )\r\n                }\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ShopSelect"],"names":[],"mappings":"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"}}]
}